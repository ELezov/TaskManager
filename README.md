# Task Manager — локальный веб-портал

Канбан-доска в стиле Trello с дизайн-системой **Liquid Glass**. Работает полностью локально, без сервера.

---

## Описание функциональности этого решения

### Канбан-доска

- **Четыре колонки**: Backlog → Todo → In Progress → Done.
- **Карточки задач**: название, приоритет, **мысленная тяжесть** (Лёгкая, Средняя, Тяжёлая), срок исполнения, счётчик заметок.
- **Перетаскивание** карточек между колонками (drag-and-drop).
- Клик по карточке открывает **модальное окно** редактирования: название, описание, срок, приоритет, мысленная тяжесть, статус и список заметок к задаче (добавление/удаление).
- **Рекомендация**: тяжёлые по мысленной нагрузке задачи лучше делать блоками в наиболее ресурсное время дня (подсказка над доской).

### Сферы

- Задачи и заметки привязаны к **сферам** (вкладки: по умолчанию «Работа» и «Жизнь», можно добавлять свои).
- Переключение вкладки меняет тему интерфейса (например, «Жизнь» — тёмно-зелёная) и отображает только задачи и заметки выбранной сферы.
- У каждой сферы есть **заметки сферы** — общие заметки, не привязанные к задаче.

### Спусковые крючки (Максим Дорофеев)

- Кнопка **«Спусковые крючки»** открывает оверлей с иерархическим списком триггеров по шести разделам: Здоровье, Семья, Дом/дача, Личная жизнь, Учёба, Работа (до 2–3 уровней вложенности).
- При клике по пункту открывается попап **«Добавить задачу в сферу»**: ввод названия и выбор сферы. Создаётся новая задача в выбранной сфере со статусом Backlog.

### Единый инбокс

- **«В инбокс»** в шапке — одна кнопка: открывается поле ввода без категорий и статусов. Любое «надо бы» или идея одним действием попадает в инбокс.
- **«Опустошить инбокс»** (появляется, когда в инбоксе есть записи) — мастер-экран: по одной записи с выбором **«В задачу»**, **«В заметку»**, **«В календарь»**, **«В мусор»**. «В календарь» создаёт задачу и открывает карточку для указания срока.
- Ограничение времени на разбор: **15 минут** (таймер в минутах и секундах вверху экрана).
- После опустошения показывается счётчик **«Инбокс пуст N дней подряд»** (геймификация).

### Настройки

- Кнопка **шестерёнки** в шапке открывает панель настроек справа.
- **Выгрузить JSON** — скачивание всех сфер и задач в один файл.
- **Загрузить JSON** — замена данных из файла; после успешной загрузки панель закрывается.

### Данные и технические особенности

- Хранение: **localStorage** браузера + экспорт/импорт JSON.
- Стек: HTML5, CSS (BEM-подобная разметка, дизайн-токены), ванильный ES6+ JavaScript.
- Доступность: skip-link «Перейти к контенту», ARIA-атрибуты, клавиатурная навигация, учёт `prefers-reduced-motion`.
- Адаптивность: поддержка от 320px, медиа-запросы для планшетов и десктопа.
- Деплой: конфигурация для Netlify в корне (`netlify.toml`).

---

## Запуск локально

1. Клонируйте репозиторий и откройте папку в терминале.
2. Запустите любой локальный сервер, например:

   ```bash
   npx serve .
   ```

   или

   ```bash
   python3 -m http.server 3000
   ```

3. Откройте в браузере: `http://localhost:3000` (или порт, который показал сервер).

Можно также открыть `index.html` напрямую в браузере (файл://). Тогда экспорт будет работать, а сохранение в `localStorage` — в зависимости от настроек браузера.

---

## Формат JSON при экспорте/импорте

```json
{
  "spheres": [
    {
      "id": "sphere-work",
      "name": "Работа",
      "order": 0,
      "notes": [
        { "id": "uuid", "text": "Текст заметки сферы", "createdAt": "2025-02-05T12:00:00.000Z" }
      ]
    }
  ],
  "inbox": [
    { "id": "uuid", "text": "Текст записи", "createdAt": "2025-02-05T12:00:00.000Z" }
  ],
  "inboxEmptySince": "2025-02-04",
  "tasks": [
    {
      "id": "uuid",
      "title": "Название",
      "description": "Описание",
      "status": "backlog",
      "priority": "medium",
      "sphereId": "sphere-work",
      "dueDate": null,
      "createdAt": "2025-02-05T12:00:00.000Z",
      "updatedAt": "2025-02-05T12:00:00.000Z",
      "notes": [
        { "id": "uuid", "text": "Текст заметки", "createdAt": "2025-02-05T12:00:00.000Z" }
      ]
    }
  ],
  "exportedAt": "2025-02-05T12:00:00.000Z",
  "version": 2
}
```

Данные по умолчанию хранятся в браузере (`localStorage`). Кнопка **«Выгрузить JSON»** скачивает файл со сферами и задачами, **«Загрузить JSON»** — заменяет текущие данные загруженным файлом.
